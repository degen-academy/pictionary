(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{201:function(e,a,t){e.exports=t(332)},206:function(e,a,t){},207:function(e,a,t){},332:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),s=t(16),i=t.n(s),l=(t(206),t(23)),r=t(24),c=t(33),m=t(32),u=t(34),h=(t(207),t(49)),d=t.n(h),p=t(119),g=t(26),v=function(){function e(a){var t=this;Object(l.a)(this,e),this.gameID=void 0,this.displayName=void 0,this.socket=void 0,this.onOpen=function(e){var a={action:"join",game_id:t.gameID,name:t.displayName};t.socket.send(JSON.stringify(a))},this.gameID=a.gameID,this.displayName=a.displayName;var n=new WebSocket("wss://auxhu82pyl.execute-api.us-west-2.amazonaws.com/dev");n.onopen=this.onOpen,n.onmessage=a.onMessage,this.socket=n}return Object(r.a)(e,[{key:"sendMessage",value:function(e){var a={action:"send_message",message:e,game_id:this.gameID,name:this.displayName};this.socket.send(JSON.stringify(a))}}]),e}(),y=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).gameAPI=void 0,t.chatInput=void 0,t.handleKeyDown=function(e){13===e.keyCode&&t.sendMessage()},t.sendMessage=function(){if(t.chatInput.current){var e=t.chatInput.current.value;e.length>0&&(t.gameAPI.sendMessage(e),t.chatInput.current.value="")}},t.onReceiveMessage=function(e){console.log(e.data);var a=JSON.parse(e.data),n=a.name,o=a.message;t.setState(function(e){return{messageHistory:[].concat(Object(p.a)(e.messageHistory),[{name:n,message:o}])}})},t.state={displayName:t.props.location.state,messageHistory:[]},t.gameAPI=new v({gameID:t.props.match.params.gameID,displayName:t.state.displayName,onMessage:t.onReceiveMessage}),t.chatInput=o.a.createRef(),t}return Object(u.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this.state.displayName;if(console.log(e),!e)return o.a.createElement("h2",null,"Please log in");var a=o.a.createElement("h2",null,'Joined the lobby as "',e,'"');console.log(this.state.messageHistory);var t=this.state.messageHistory.map(function(e){return o.a.createElement("div",null,o.a.createElement("span",null,e.name,":"),"  ",e.message)});return console.log(t),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("h1",null,"Game ID: ",this.props.match.params.gameID),a),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement(g.b,{inputRef:this.chatInput,id:"chat-input",label:"chat",margin:"normal",variant:"outlined",onKeyDown:this.handleKeyDown}),o.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.sendMessage},"Send"),t))}}]),a}(o.a.Component),b=t(117),f=t(48),E=t.n(f),O=t(50),w=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).state={displayName:"kiminonawa",gameID:"new lobby",isLoading:!1},t.handleChange=function(e){return function(a){t.setState(Object(b.a)({},e,a.target.value))}},t}return Object(u.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("form",{noValidate:!0,autoComplete:"off"},o.a.createElement(g.b,{id:"outlined-uncontrolled",label:"Display Name",defaultValue:this.state.displayName,margin:"normal",variant:"outlined",onChange:this.handleChange("displayName")}),o.a.createElement(g.b,{id:"outlined-uncontrolled",label:"Lobby Name",defaultValue:this.state.gameID,margin:"normal",variant:"outlined",onChange:this.handleChange("lobbyName")})),o.a.createElement(O.b,{to:{pathname:"/".concat(this.state.gameID.replace(" ","-")),state:this.state.displayName}},o.a.createElement(g.a,{variant:"contained",color:"primary"},"Join Game")),o.a.createElement("div",null,this.state.isLoading?o.a.createElement(E.a,null):null))}}]),a}(o.a.Component),I=t(25),j=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500"}),o.a.createElement(d.a,{component:"h2",variant:"h2",gutterBottom:!0},"Pictionary"),o.a.createElement(O.a,{basename:"/pictionary"},o.a.createElement(I.a,{exact:!0,path:"/",component:w}),o.a.createElement(I.a,{path:"/:gameID",component:y})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[201,1,2]]]);
//# sourceMappingURL=main.2bab5af3.chunk.js.map